---
title: 如何配置内核调试环境
published: 2025-11-26
description: "emm,才想起来光写内核驱动文章,忘写怎么配置环境了"
toc: false
tags: [内核驱动]
---
## 摘要

本文旨在解决，在仅有一个机器的情况下，在本机对虚拟机进行内核调试的环境搭建

## 下载

1. 在ms商店下载windbg，这是微软提供的调试器，我们后期就用这个调试器来进行内核调试![image-20251126141540411](..\images\image-20251126141540411.png)

2. 下载这个GitHub项目https://github.com/4d61726b/VirtualKD-Redux，这个可以在本机和虚拟机中方便的搭建一个通道来进行通信
3. 用VMware创建一个win10系统，用于被内核调试，记得装好VMware tools巴拉巴拉，你都学到内核调试了应该不用我多说

## 配置环境

1. 打开下好的VirtualKD-Redux-2024.3，把target64中的两个文件都复制到虚拟机，并安装

 ![image-20251126142402120](..\images\image-20251126142402120.png)

2. 紧接着回到VirtualKD-Redux-2024.3，点这个启动
   ![image-20251126142504213](..\images\image-20251126142504213.png)
    ![image-20251126142630020](..\images\image-20251126142630020.png)
3. 重启一下虚拟机，在这里按下F8，禁用驱动强制签名
    ![image-20251126142854194](..\images\image-20251126142854194.png)

     ![image-20251126142924359](..\images\image-20251126142924359.png)

2. 直接点Run debugger就可以自动打开windbg并且帮你连接上了

 ![image-20251126143045796](..\images\image-20251126143045796.png)

 ![image-20251126143742821](..\images\image-20251126143742821.png)

**结束**
